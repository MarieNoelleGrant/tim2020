define(["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.initialiser=function(){this.refBtn.append('<div class="filtres__icone"><span class="icone icone__chevron--blanc"></span><span class="libelle screen-reader-only">Ouvrir</span></div>'),this.refForm.addClass("filtres__formulaire--ferme"),this.modifierTabIndex(0,!1),$(".filtres__liste").removeClass("displayNone"),this.refElementsFormulaire.find(".filtre").addClass("filtre--cache"),this.refBtn.on("keypress click",this.ouvrirFermerFiltres_lier),this.refBtnOnglets.on("click",this.montrerCacherChamps_lier)},i.prototype.ouvrirFermerFiltres=function(e){var t=this.refBtn.find(".icone__chevron--blanc"),r=this.refBtn.find(".libelle");this.refForm.toggleClass("filtres__formulaire--ferme"),t.toggleClass("icone__chevron--haut"),t.hasClass("icone__chevron--haut")?(r.text("Fermer"),this.modifierTabIndex(1,!1)):(r.text("Ouvrir"),this.modifierTabIndex(1,!0),$(e.currentTarget).blur())},i.prototype.montrerCacherChamps=function(e){var t=$(e.currentTarget),r=null,i=0;switch(!0){case t.hasClass("diplomes"):this.refChampsCibles=r=$(".diplomes__champs"),i=1;break;case t.hasClass("sessions"):this.refChampsCibles=r=$(".sessions__champs"),i=2;break;case t.hasClass("disciplines"):this.refChampsCibles=r=$(".disciplines__champs"),i=3;break;case t.hasClass("motscles"):this.refChampsCibles=r=$(".motscles__champs"),i=4;break;case t.hasClass("projets"):this.refChampsCibles=r=$(".projets__champs"),i=5}this.refGroupeBtnOnglets.hasClass("filtres__liste--"+i)?(this.refGroupeBtnOnglets.removeClass("filtres__liste--"+i),t.attr("aria-expanded","false"),this.modifierTabIndex(2,!0)):(this.refGroupeBtnOnglets.removeClass().addClass("filtres__liste filtres__liste--"+i),setTimeout(function(){r.children(".form__conteneur").first().children("input").focus()},350),t.attr("aria-expanded","true"),this.modifierTabIndex(2,!1)),this.refChampsCibles.toggleClass("filtre--cache"),this.refChampsCibles.siblings(".filtre").addClass("filtre--cache"),t.find(".icone__chevron").toggleClass("icone__chevron--haut"),t.siblings().find(".icone__chevron").removeClass("icone__chevron--haut"),t.find(".onglet__texte").toggleClass("onglet__texte--actif"),t.siblings().find(".onglet__texte").removeClass("onglet__texte--actif")},i.prototype.modifierTabIndex=function(e,t){0==e?(this.refForm.attr("tabindex","-1"),this.refGroupeBtnOnglets.children().children("button").attr("tabindex","-1"),this.refElementsFormulaire.attr("tabindex","-1"),this.refElementsFormulaire.children().children("button").attr("tabindex","-1"),this.refBtnForm.children().children("button, a").attr("tabindex","-1"),$(".form__conteneur").find("input").attr("tabindex","-1")):1==e?0==t?(this.refForm.removeAttr("tabindex"),this.refGroupeBtnOnglets.children().children("button").removeAttr("tabindex"),this.refBtnForm.children().children("button, a").removeAttr("tabindex"),this.refElementsFormulaire.removeAttr("tabindex"),this.refElementsFormulaire.children().children("button").removeAttr("tabindex")):(this.refForm.attr("tabindex","-1"),this.refGroupeBtnOnglets.children().children("button").attr("tabindex","-1"),this.refBtnForm.children().children("button, a").attr("tabindex","-1"),this.refElementsFormulaire.attr("tabindex","-1"),this.refElementsFormulaire.children().children("button").attr("tabindex","-1")):0==t?($(".form__conteneur").find("input").attr("tabindex","-1"),this.refChampsCibles.children(".form__conteneur").find("input").removeAttr("tabindex")):$(".form__conteneur").find("input").attr("tabindex","-1")},i);function i(){this.refFiltres=$(".filtres"),this.refBtn=$(".filtres__btnControle"),this.refForm=$(".filtres__formulaire"),this.refElementsFormulaire=$(".filtres__elementsFormulaires"),this.refGroupeBtnOnglets=$(".filtres__liste"),this.refBtnOnglets=$(".filtres__listeItem"),this.refBtnForm=$(".form__boutons"),this.ouvrirFermerFiltres_lier=this.ouvrirFermerFiltres.bind(this),this.montrerCacherChamps_lier=this.montrerCacherChamps.bind(this),this.initialiser()}t.Filtres=r});